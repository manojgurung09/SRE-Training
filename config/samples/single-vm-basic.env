# ============================================================================
# SINGLE VM - BASIC (Supabase Database)
# ============================================================================
# Perfect for: Small production deployments, MVPs, learning
# Setup time: 30 minutes
# Monthly cost: $10-50
# Handles: 100-1000 users
# External services: Supabase (managed database)
#
# Prerequisites:
#   - Ubuntu 22.04 VM with 2GB RAM, 1 vCPU
#   - Supabase account (free tier works)
#   - Domain pointed to VM (optional, for SSL)
#
# Setup Steps:
#   1. Create Supabase project at supabase.com
#   2. Run migrations in Supabase SQL Editor
#   3. Copy this file to server: scp config/samples/single-vm-basic.env server:.env
#   4. Update SUPABASE_* and domain values
#   5. Run deployment script: ./deployment/scripts/deploy-backend-oci.sh
#
# Guide: DEPLOYMENT_QUICKSTART.md#scenario-2-single-vm-production
# ============================================================================

# Deployment Configuration
DEPLOYMENT_MODE=single-vm
NODE_ENV=production

# Database - Supabase (Managed PostgreSQL)
DATABASE_TYPE=supabase
SUPABASE_URL=<REPLACE_WITH_YOUR_SUPABASE_URL>
SUPABASE_ANON_KEY=<REPLACE_WITH_YOUR_ANON_KEY>
SUPABASE_SERVICE_ROLE_KEY=<REPLACE_WITH_YOUR_SERVICE_ROLE_KEY>

# Authentication - Supabase Auth
AUTH_PROVIDER=supabase

# Workers - In-process (simple, no Redis needed)
# Jobs execute synchronously, no external queue
WORKER_MODE=in-process
# Note: WORKER_CONCURRENCY not used for in-process mode

# Cache - Memory (simple, no Redis needed)
# Data stored in memory, lost on restart
CACHE_TYPE=memory
# Note: CACHE_TTL optional for memory cache

# Secrets Management
SECRETS_PROVIDER=env

# Server Configuration
PORT=3000
HOST=0.0.0.0
FRONTEND_URL=https://yourdomain.com

# Security
JWT_SECRET=<REPLACE_WITH_SECURE_RANDOM_64_CHAR_STRING>
CORS_ORIGIN=https://yourdomain.com

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Frontend Configuration
VITE_API_URL=https://yourdomain.com
VITE_APP_NAME=BharatMart
VITE_SUPABASE_URL=<REPLACE_WITH_YOUR_SUPABASE_URL>
VITE_SUPABASE_ANON_KEY=<REPLACE_WITH_YOUR_ANON_KEY>

# Optional: Email Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=<REPLACE_THIS>
# SMTP_PASSWORD=<REPLACE_THIS>
# EMAIL_FROM=noreply@yourdomain.com
