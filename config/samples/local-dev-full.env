# ============================================================================
# LOCAL DEVELOPMENT - FULL (Production Simulation)
# ============================================================================
# Perfect for: Testing production features locally
# Setup time: 10 minutes
# Monthly cost: $0
# Internet required: No
# External services: Local PostgreSQL + Redis
#
# Prerequisites:
#   - PostgreSQL installed: brew install postgresql (Mac) or apt install postgresql (Linux)
#   - Redis installed: brew install redis (Mac) or apt install redis (Linux)
#
# Setup:
#   1. Start PostgreSQL: brew services start postgresql
#   2. Create database: createdb bharatmart
#   3. Start Redis: brew services start redis
#   4. cp config/samples/local-dev-full.env .env
#   5. npm run migrate (run database migrations)
#   6. npm run dev -- --host 0.0.0.0 --port 5173 + npm run dev:server + npm run dev:worker
#
# Guide: DEPLOYMENT_QUICKSTART.md#scenario-1-local-development
# ============================================================================

# Deployment Configuration
DEPLOYMENT_MODE=single-vm
NODE_ENV=development

# Database - Local PostgreSQL
DATABASE_TYPE=postgresql
DATABASE_URL=postgresql://localhost:5432/bharatmart
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Alternative: Use Supabase for easy setup
# DATABASE_TYPE=supabase
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=<REPLACE_THIS>
# SUPABASE_SERVICE_ROLE_KEY=<REPLACE_THIS>

# Authentication - Local JWT
JWT_SECRET=local-dev-secret-change-in-production-min-32-chars-long
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d

# Workers - Bull Queue with Redis
WORKER_MODE=bull-queue
WORKER_CONCURRENCY=5
QUEUE_REDIS_URL=redis://localhost:6379
QUEUE_PREFIX=bharatmart

# Cache - Redis
CACHE_TYPE=redis
CACHE_REDIS_URL=redis://localhost:6379
CACHE_TTL=300
CACHE_PREFIX=bharatmart:cache

# Secrets Management
SECRETS_PROVIDER=env

# Server Configuration
PORT=3000
HOST=localhost
FRONTEND_URL=http://localhost:5173

# Logging
LOG_LEVEL=debug
LOG_FORMAT=dev

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Frontend Configuration
VITE_API_URL=http://localhost:3000
VITE_APP_NAME=BharatMart Dev
VITE_ENABLE_DEBUG=true
VITE_SUPABASE_URL=
VITE_SUPABASE_ANON_KEY=

# Observability (optional for local dev)
OTEL_SERVICE_NAME=bharatmart-backend
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
OTEL_TRACES_SAMPLER=always_on

# Chaos Engineering (optional for local dev)
CHAOS_ENABLED=false
CHAOS_LATENCY_MS=0

# Admin Seed (for db:init script)
ADMIN_EMAIL=admin@bharatmart.com
ADMIN_PASSWORD=Admin@123
